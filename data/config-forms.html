<!--
  config-forms.html
  Contains: Modern, responsive forms for Clock, Weather, and Matrix setup for inclusion in config.html
-->

<!-- Clock Setup Form -->
<section class="config-section" id="clock-setup">
  <h2>Clock Setup</h2>
  <form id="clock-form">
    <div class="form-grid">
      <label>Show clock
        <input type="checkbox" id="clock-enable" />
      </label>
      <label>Timezone mode
        <select id="clock-timezone-mode">
          <option value="location">Use selected city timezone</option>
          <option value="manual">Manual timezone</option>
        </select>
      </label>
      <label>Manual timezone
        <input id="clock-timezone-manual" type="text" placeholder="e.g. Europe/Prague" list="tz-hints" />
      </label>
      <label>Clock format
        <select id="clock-format-select">
          <option value="24h">24-hour</option>
          <option value="12h">12-hour</option>
        </select>
      </label>
      <label>Time font
        <select id="clock-font-select">
          <option value="inherit">Default (system)</option>
          <option value="Inter">Inter</option>
          <option value="Montserrat">Montserrat</option>
          <option value="Fira Code">Fira Code</option>
          <option value="Poppins">Poppins</option>
          <option value="Comic Sans MS">Comic Sans</option>
          <option value="Marker Felt">Marker Felt</option>
          <option value="Snell Roundhand">Snell Roundhand</option>
        </select>
      </label>
      <div class="toggle-group">
        <label><input type="checkbox" id="clock-show-seconds" /> Show seconds</label>
        <label><input type="checkbox" id="clock-show-millis" /> Show milliseconds</label>
        <label><input type="checkbox" id="clock-show-date" /> Show date</label>
        <label><input type="checkbox" id="clock-show-timezone" /> Show timezone</label>
      </div>
      <label>NTP pools (comma separated)
        <input id="clock-ntp-pools" type="text" placeholder="pool.ntp.org, time.google.com" />
      </label>
      <label>Sync interval (minutes)
        <input id="clock-sync-interval" type="number" min="5" max="720" step="5" value="60" />
      </label>
    </div>
    <div class="link-row">
      <button type="submit">Save Clock Settings</button>
    </div>
  </form>
</section>

<!-- Weather Setup Form -->
<section class="config-section" id="weather-setup">
  <h2>Weather Setup</h2>
  <form id="weather-form">
    <div class="form-grid">
      <label>Weather provider
        <select id="outdoor-provider">
          <option value="open-meteo">Open-Meteo (no key)</option>
          <option value="metno">MET Norway (no key)</option>
          <option value="weatherapi">WeatherAPI (key required)</option>
        </select>
      </label>
      <label>Search city
        <input id="outdoor-search" type="text" placeholder="Start typing to search" autocomplete="off" />
      </label>
      <div class="search-hint" id="outdoor-search-status">Type 2+ letters to search.</div>
      <div class="search-results" id="outdoor-search-results"></div>
    </div>
    <div class="link-row">
      <button type="submit">Save Weather Settings</button>
    </div>
  </form>
</section>

<!-- Matrix Setup Form -->
<section class="config-section" id="matrix-setup">
  <h2>Matrix Setup</h2>
  <form id="matrix-form">
    <div class="form-grid matrix-grid">
      <label>Enable matrix
        <input type="checkbox" id="matrix-enabled" />
      </label>
      <label>Night dimming (11pm-7am)
        <input type="checkbox" id="matrix-night-enabled" />
      </label>
      <label>Data pin
        <input type="number" id="matrix-pin" min="0" max="39" value="2" />
      </label>
      <label>Width (px)
        <input type="number" id="matrix-width" min="1" max="256" value="32" />
      </label>
      <label>Height (px)
        <input type="number" id="matrix-height" min="1" max="256" value="8" />
      </label>
      <label>Orientation
        <select id="matrix-orientation">
          <option value="0">0°</option>
          <option value="1">90°</option>
          <option value="2">180°</option>
          <option value="3">270°</option>
        </select>
      </label>
      <label>Brightness
        <input type="number" id="matrix-brightness" min="1" max="255" value="48" />
      </label>
      <label>Max brightness cap
        <input type="number" id="matrix-max-brightness" min="1" max="255" value="96" />
      </label>
      <label>Night brightness
        <input type="number" id="matrix-night-brightness" min="1" max="255" value="16" />
      </label>
      <label>Frame rate (FPS)
        <input type="number" id="matrix-fps" min="1" max="200" value="30" />
      </label>
      <label>Serpentine wiring
        <input type="checkbox" id="matrix-serpentine" />
      </label>
      <label>Start at bottom edge
        <input type="checkbox" id="matrix-bottom" />
      </label>
      <label>Flip X
        <input type="checkbox" id="matrix-flipx" />
      </label>
      <label>Clock color style
        <select id="matrix-color-mode">
          <option value="0">Solid</option>
          <option value="1">Gradient</option>
          <option value="2">Dynamic</option>
        </select>
      </label>
      <label>Primary color
        <input type="color" id="matrix-color1" value="#78d2ff" />
      </label>
      <label>Secondary color
        <input type="color" id="matrix-color2" value="#b478ff" />
      </label>
    </div>
    <div class="link-row">
      <button type="submit">Save Matrix Settings</button>
      <button type="button" class="secondary" id="matrix-refresh">Refresh</button>
      <button type="button" class="secondary" id="matrix-test">Test pattern</button>
      <button type="button" class="secondary" id="matrix-clear">Clear</button>
      <button type="button" class="secondary" id="matrix-preview">Preview</button>
    </div>
  </form>
  <div id="matrix-preview-modal" class="modal-backdrop" hidden>
    <div class="modal">
      <div class="modal-header">
        <h3>Matrix Preview</h3>
        <button type="button" class="icon-btn" id="matrix-preview-close" aria-label="Close">✕</button>
      </div>
      <canvas id="matrix-preview-canvas" width="320" height="80"></canvas>
      <p class="hint">Preview is simulated in the browser using current form values.</p>
    </div>
  </div>
</section>
